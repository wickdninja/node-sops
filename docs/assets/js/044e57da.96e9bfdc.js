"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[955],{3649:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"cli-usage","title":"CLI Usage","description":"Node SOPS provides a comprehensive command-line interface for managing your encrypted secrets. This guide covers all the available commands and options.","source":"@site/src/docs/cli-usage.md","sourceDirName":".","slug":"/cli-usage","permalink":"/node-sops/cli-usage","draft":false,"unlisted":false,"editUrl":"https://github.com/wickdninja/node-sops/edit/main/docs-src/src/docs/src/docs/cli-usage.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"CLI Usage"},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/node-sops/getting-started"},"next":{"title":"Programmatic Usage","permalink":"/node-sops/programmatic-usage"}}');var t=s(4848),c=s(8453);const r={sidebar_position:3,title:"CLI Usage"},d="Command Line Interface",l={},o=[{value:"Global Options",id:"global-options",level:2},{value:"Commands",id:"commands",level:2},{value:"init",id:"init",level:3},{value:"encrypt",id:"encrypt",level:3},{value:"decrypt",id:"decrypt",level:3},{value:"view",id:"view",level:3},{value:"get",id:"get",level:3},{value:"rotate",id:"rotate",level:3},{value:"Usage in Package Scripts",id:"usage-in-package-scripts",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"command-line-interface",children:"Command Line Interface"})}),"\n",(0,t.jsx)(n.p,{children:"Node SOPS provides a comprehensive command-line interface for managing your encrypted secrets. This guide covers all the available commands and options."}),"\n",(0,t.jsx)(n.h2,{id:"global-options",children:"Global Options"}),"\n",(0,t.jsx)(n.p,{children:"These options apply to all commands:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--help"}),", ",(0,t.jsx)(n.code,{children:"-h"})]}),(0,t.jsx)(n.td,{children:"Display help information"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--version"}),", ",(0,t.jsx)(n.code,{children:"-v"})]}),(0,t.jsx)(n.td,{children:"Display version information"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,t.jsx)(n.h3,{id:"init",children:"init"}),"\n",(0,t.jsx)(n.p,{children:"Initializes a new encryption key."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops init [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--force"}),", ",(0,t.jsx)(n.code,{children:"-f"})]}),(0,t.jsx)(n.td,{children:"Overwrite existing key file if it exists"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsxs)(n.td,{children:["Specify a custom path for the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Initialize a new key in the default location\nnpx node-sops init\n\n# Initialize a new key in a custom location\nnpx node-sops init --key-path ./config/.custom-key\n\n# Force overwrite an existing key\nnpx node-sops init --force\n"})}),"\n",(0,t.jsx)(n.h3,{id:"encrypt",children:"encrypt"}),"\n",(0,t.jsx)(n.p,{children:"Encrypts a plaintext file containing secrets."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops encrypt [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--in"}),", ",(0,t.jsx)(n.code,{children:"-i"})]}),(0,t.jsx)(n.td,{children:"Input file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--out"}),", ",(0,t.jsx)(n.code,{children:"-o"})]}),(0,t.jsx)(n.td,{children:"Output file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsxs)(n.td,{children:["Custom path to the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Encrypt a YAML file\nnpx node-sops encrypt -i secrets.yaml -o secrets.enc.json\n\n# Encrypt a JSON file\nnpx node-sops encrypt -i secrets.json -o secrets.enc.json\n\n# Use a custom key file\nnpx node-sops encrypt -i secrets.yaml -o secrets.enc.json -k ./config/.custom-key\n"})}),"\n",(0,t.jsx)(n.h3,{id:"decrypt",children:"decrypt"}),"\n",(0,t.jsx)(n.p,{children:"Decrypts an encrypted file."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops decrypt [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--in"}),", ",(0,t.jsx)(n.code,{children:"-i"})]}),(0,t.jsx)(n.td,{children:"Input file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--out"}),", ",(0,t.jsx)(n.code,{children:"-o"})]}),(0,t.jsx)(n.td,{children:"Output file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsxs)(n.td,{children:["Custom path to the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--format"}),", ",(0,t.jsx)(n.code,{children:"-f"})]}),(0,t.jsxs)(n.td,{children:["Output format: ",(0,t.jsx)(n.code,{children:"yaml"})," or ",(0,t.jsx)(n.code,{children:"json"})," (default: inferred from output file extension)"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Decrypt to a YAML file\nnpx node-sops decrypt -i secrets.enc.json -o secrets.yaml\n\n# Decrypt to a JSON file\nnpx node-sops decrypt -i secrets.enc.json -o secrets.json\n\n# Explicitly specify the output format\nnpx node-sops decrypt -i secrets.enc.json -o secrets.txt -f yaml\n"})}),"\n",(0,t.jsx)(n.h3,{id:"view",children:"view"}),"\n",(0,t.jsx)(n.p,{children:"Displays the decrypted content of an encrypted file without writing to a file."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops view [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--in"}),", ",(0,t.jsx)(n.code,{children:"-i"})]}),(0,t.jsx)(n.td,{children:"Input file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsxs)(n.td,{children:["Custom path to the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--format"}),", ",(0,t.jsx)(n.code,{children:"-f"})]}),(0,t.jsxs)(n.td,{children:["Output format: ",(0,t.jsx)(n.code,{children:"yaml"}),", ",(0,t.jsx)(n.code,{children:"json"}),", or ",(0,t.jsx)(n.code,{children:"pretty"})," (default: ",(0,t.jsx)(n.code,{children:"pretty"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# View the decrypted content with pretty formatting\nnpx node-sops view -i secrets.enc.json\n\n# View the content in YAML format\nnpx node-sops view -i secrets.enc.json -f yaml\n\n# View the content in JSON format\nnpx node-sops view -i secrets.enc.json -f json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get",children:"get"}),"\n",(0,t.jsx)(n.p,{children:"Retrieves a specific value from an encrypted file using a dot-notation path."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops get [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--in"}),", ",(0,t.jsx)(n.code,{children:"-i"})]}),(0,t.jsx)(n.td,{children:"Input file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsx)(n.td,{children:"Dot-notation path to the value (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-p"})]}),(0,t.jsxs)(n.td,{children:["Custom path to the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Get a specific value\nnpx node-sops get -i secrets.enc.json -k data.api.key\n\n# Get a nested value\nnpx node-sops get -i secrets.enc.json -k data.database.password\n"})}),"\n",(0,t.jsx)(n.h3,{id:"rotate",children:"rotate"}),"\n",(0,t.jsx)(n.p,{children:"Re-encrypts an encrypted file with a new initialization vector. The content remains the same, but the encrypted file changes."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx node-sops rotate [options]\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--in"}),", ",(0,t.jsx)(n.code,{children:"-i"})]}),(0,t.jsx)(n.td,{children:"Input file path (required)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--out"}),", ",(0,t.jsx)(n.code,{children:"-o"})]}),(0,t.jsx)(n.td,{children:"Output file path (default: same as input)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"--key-path"}),", ",(0,t.jsx)(n.code,{children:"-k"})]}),(0,t.jsxs)(n.td,{children:["Custom path to the key file (default: ",(0,t.jsx)(n.code,{children:".sops-key"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Rotate encryption in place\nnpx node-sops rotate -i secrets.enc.json\n\n# Rotate to a new file\nnpx node-sops rotate -i secrets.enc.json -o new-secrets.enc.json\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage-in-package-scripts",children:"Usage in Package Scripts"}),"\n",(0,t.jsxs)(n.p,{children:["You can add Node SOPS commands to your ",(0,t.jsx)(n.code,{children:"package.json"})," scripts section for easier access:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "encrypt": "node-sops encrypt -i secrets.yaml -o secrets.enc.json",\n    "decrypt": "node-sops decrypt -i secrets.enc.json -o secrets.yaml",\n    "view-secrets": "node-sops view -i secrets.enc.json"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then you can run these commands using npm or yarn:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm run encrypt\nnpm run decrypt\nnpm run view-secrets\n"})})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var i=s(6540);const t={},c=i.createContext(t);function r(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);